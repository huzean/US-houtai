webpackJsonp([1],{"0ymZ":function(t,e,a){"use strict";var l={data:function(){return{loading:!1,isDisable:!1}},watch:{loading:function(t){this.$emit("loading",t)}},methods:{enterwarehouse:function(){var t=this,e=this;this.isDisable=!0,this.loading=!0,this.gob.postJson(this,{url:"usys-wdt-erp/management/stockOrder/stockInTask",arg:{}}).then(function(a){1e4==a.code?(t.$message("成功"),e.loading=!1,t.$emit("refresh"),setTimeout(function(){e.isDisable=!1},200)):(t.$emit("refresh"),t.$message(a.msg))})}}},r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("div",{staticClass:"location"},[e("el-button",{staticStyle:{"margin-right":"100px"},attrs:{type:"primary",disabled:this.isDisable},on:{click:this.enterwarehouse}},[this._v("入库同步")])],1)])},staticRenderFns:[]};var s=a("C7Lr")(l,r,!1,function(t){a("ZqTn")},null,null);e.a=s.exports},"BR+i":function(t,e){},HyhI:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("4YfN"),r=a.n(l),s={data:function(){return{batchOrderDialogVisible:!1,isLoading:!1,isdataList:[],stockinId:null,params:{currentPage:1,pageSize:10,total:null},listValue:{orderNo:"",status:"",srcOrderNo:"",stockType:1},stockinIdList:[],parameter:{currentPage:1,pageSize:5,total:null},batchOrderSubmitParams:{time:null},time:[],orderTypes:[]}},created:function(){this.isclick()},methods:{handleShowDownloadBatchOrder:function(){this.batchOrderSubmitParams={time:""},this.batchOrderDialogVisible=!0},handleDownloadBatchOrder:function(){var t=this,e=this.batchOrderSubmitParams,a=(e.compoundParams,e.time);this.gob.postBlob(this,{url:"usys-wdt-erp/management/stockOrder/downloadOrder",responseType:"arraybuffer",arg:r()({},this.listValue,{endTime:a?a[1]:"",startTime:a?a[0]:"",orderTypes:this.orderTypes})}).then(function(e){console.log("111",e);var a=document.createElement("a");a.download="批量下载订单.xlsx";var l=new Blob([e]);a.href=URL.createObjectURL(l),a.click(),t.batchOrderDialogVisible=!1})},setLoading:function(t){this.isLoading=t},refresh:function(){this.isclick(),this.getData()},problemSourceFormat:function(t){return"10"==t.status?"已取消":"20"==t.status?"编辑中":"25"==t.status?"待价格确认":"30"==t.status?"待审核":"32"==t.status?"待推送":"33"==t.status?"推送失败":"35"==t.status?"委外待入库":"60"==t.status?"待结算":"80"==t.status?"已完成":void 0},getData:function(){var t=this;this.stockinId&&this.gob.postJson(this,{url:"usys-wdt-erp/management/stockInDetails/selectList",arg:{page:{current:this.parameter.currentPage,size:this.parameter.pageSize},stockinId:this.stockinId}}).then(function(e){t.stockinIdList=e.data.stockInDetailEntities,t.parameter.total=e.data.total})},handle:function(t,e,a){var l=this;this.stockinId=t.stockinId,this.parameter.currentPage=1,this.$nextTick(function(){l.getData()})},handleSizeChanges:function(t){this.parameter.pageSize=t,this.getData()},handleCurrentChange:function(t){this.parameter.currentPage=t,console.log("111",t),this.getData()},isclick:function(){var t=this;this.gob.postJson(this,{url:"usys-wdt-erp/management/stockInOrder/selectList",arg:r()({},t.listValue,{page:{current:this.params.currentPage,size:this.params.pageSize},endTime:this.time?this.time[1]:"",startTime:this.time?this.time[0]:"",orderTypes:this.orderTypes})}).then(function(e){1e4==e.code&&(t.isdataList=e.data.stockInOrderEntities,t.params.total=e.data.total)})},handleSizeChange:function(t){this.params.pageSize=t,this.isclick()},currentChange:function(t){this.params.currentPage=t,this.isclick()},allList:function(){this.listValue.orderNo="",this.listValue.status="",this.listValue.srcOrderNo="",this.currentPage=1,this.isclick()},checkList:function(){this.currentPage=1,this.isclick()}},components:{outbutton:a("0ymZ").a}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("outbutton",{on:{refresh:t.refresh,loading:t.setLoading}}),t._v(" "),a("el-form",{staticClass:"demo-ruleForm",attrs:{"label-width":"50px",inline:!0,model:t.listValue,type:"expand"}},[a("el-form-item",[a("el-input",{attrs:{placeholder:"入库单号"},model:{value:t.listValue.orderNo,callback:function(e){t.$set(t.listValue,"orderNo",e)},expression:"listValue.orderNo"}})],1),t._v(" "),a("el-select",{attrs:{placeholder:"状态",clearable:""},model:{value:t.listValue.status,callback:function(e){t.$set(t.listValue,"status",e)},expression:"listValue.status"}},[a("el-option",{attrs:{label:"已取消",value:10}}),t._v(" "),a("el-option",{attrs:{label:"编辑中",value:20}}),t._v(" "),a("el-option",{attrs:{label:"待价格确认",value:25}}),t._v(" "),a("el-option",{attrs:{label:"待审核",value:30}}),t._v(" "),a("el-option",{attrs:{label:"待推送",value:32}}),t._v(" "),a("el-option",{attrs:{label:"推送失败",value:33}}),t._v(" "),a("el-option",{attrs:{label:"委外待入库",value:35}}),t._v(" "),a("el-option",{attrs:{label:"待结算",value:60}}),t._v(" "),a("el-option",{attrs:{label:"已完成",value:80}})],1),t._v(" "),a("el-select",{staticStyle:{width:"350px"},attrs:{multiple:"","collapse-tags":"","popper-class":"select-rule",placeholder:"入库单类型"},model:{value:t.orderTypes,callback:function(e){t.orderTypes=e},expression:"orderTypes"}},[a("el-option",{attrs:{label:"采购入库",value:1}}),t._v(" "),a("el-option",{attrs:{label:"调拨入库",value:2}}),t._v(" "),a("el-option",{attrs:{label:"退货入库",value:3}}),t._v(" "),a("el-option",{attrs:{label:"盘盈入库",value:4}}),t._v(" "),a("el-option",{attrs:{label:"生产入库",value:5}}),t._v(" "),a("el-option",{attrs:{label:"保修入库",value:6}}),t._v(" "),a("el-option",{attrs:{label:"纠错入库",value:7}}),t._v(" "),a("el-option",{attrs:{label:"初始化入库",value:8}}),t._v(" "),a("el-option",{attrs:{label:"预入库",value:9}}),t._v(" "),a("el-option",{attrs:{label:"JIT退货入库",value:10}}),t._v(" "),a("el-option",{attrs:{label:"委外入库",value:11}})],1),t._v(" "),a("el-form-item",[a("el-input",{attrs:{placeholder:"源单号"},model:{value:t.listValue.srcOrderNo,callback:function(e){t.$set(t.listValue,"srcOrderNo",e)},expression:"listValue.srcOrderNo"}})],1),t._v(" "),a("span",[t._v("入库时间：")]),t._v(" "),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange","default-time":["00:00:00","23:59:59"],"range-separator":"|",startPlaceholder:"开始日期",endPlaceholder:"结束日期"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}}),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.checkList}},[t._v("查询")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary"},on:{click:t.allList}},[t._v("全部")])],1),t._v(" "),a("el-form-item",[a("com_editBtn",{attrs:{plain:!0,size:"medium",val:"导出库单"},on:{handleClick:t.handleShowDownloadBatchOrder}})],1)],1),t._v(" "),a("el-col",{staticClass:"toolbar",attrs:{span:24}},[a("div")]),t._v(" "),a("el-dialog",{attrs:{title:"详情",visible:t.batchOrderDialogVisible,"close-on-click-modal":!1,width:"80%"},on:{"update:visible":function(e){t.batchOrderDialogVisible=e}}},[a("div",{staticClass:"detail-title",staticStyle:{"margin-bottom":"20px"}},[a("span",{staticClass:"aside-left"},[t._v(" 筛选范围 ")]),t._v(" "),a("el-date-picker",{attrs:{"value-format":"yyyy-MM-dd HH:mm:ss",type:"datetimerange","default-time":["00:00:00","23:59:59"],"range-separator":"|",startPlaceholder:"开始日期",endPlaceholder:"结束日期"},model:{value:t.batchOrderSubmitParams.time,callback:function(e){t.$set(t.batchOrderSubmitParams,"time",e)},expression:"batchOrderSubmitParams.time"}})],1),t._v(" "),a("div",{staticStyle:{margin:"20px 0px 20px 13px"}},[a("span",{staticClass:"aside-left"},[t._v(" 源单号 ")]),t._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入内容"},model:{value:t.listValue.srcOrderNo,callback:function(e){t.$set(t.listValue,"srcOrderNo",e)},expression:"listValue.srcOrderNo"}})],1),t._v(" "),a("div",{staticStyle:{margin:"30px 0"}},[a("span",{staticClass:"aside-left"},[t._v("入库单号")]),t._v(" "),a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入内容"},model:{value:t.listValue.orderNo,callback:function(e){t.$set(t.listValue,"orderNo",e)},expression:"listValue.orderNo"}})],1),t._v(" "),a("div",{staticStyle:{margin:"20px 0px 20px 26px"}},[a("span",{staticClass:"aside-left"},[t._v("状态 ")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择",clearable:""},model:{value:t.listValue.status,callback:function(e){t.$set(t.listValue,"status",e)},expression:"listValue.status"}},[a("el-option",{attrs:{label:"已取消",value:10}}),t._v(" "),a("el-option",{attrs:{label:"编辑中",value:20}}),t._v(" "),a("el-option",{attrs:{label:"待价格确认",value:25}}),t._v(" "),a("el-option",{attrs:{label:"待审核",value:30}}),t._v(" "),a("el-option",{attrs:{label:"待推送",value:32}}),t._v(" "),a("el-option",{attrs:{label:"推送失败",value:33}}),t._v(" "),a("el-option",{attrs:{label:"委外待入库",value:35}}),t._v(" "),a("el-option",{attrs:{label:"待结算",value:60}}),t._v(" "),a("el-option",{attrs:{label:"已完成",value:80}})],1)],1),t._v(" "),a("div",{staticStyle:{margin:"30px 0px 100px -20px","margin-bottom":"100px"}},[a("span",{staticClass:"aside-left"},[t._v("入库单类型")]),t._v(" "),a("el-select",{staticStyle:{width:"350px"},attrs:{multiple:"","collapse-tags":"","popper-class":"select-rule",placeholder:"请选择"},model:{value:t.orderTypes,callback:function(e){t.orderTypes=e},expression:"orderTypes"}},[a("el-option",{attrs:{label:"采购入库",value:1}}),t._v(" "),a("el-option",{attrs:{label:"调拨入库",value:2}}),t._v(" "),a("el-option",{attrs:{label:"退货入库",value:3}}),t._v(" "),a("el-option",{attrs:{label:"盘盈入库",value:4}}),t._v(" "),a("el-option",{attrs:{label:"生产入库",value:5}}),t._v(" "),a("el-option",{attrs:{label:"保修入库",value:6}}),t._v(" "),a("el-option",{attrs:{label:"纠错入库",value:7}}),t._v(" "),a("el-option",{attrs:{label:"初始化入库",value:8}}),t._v(" "),a("el-option",{attrs:{label:"预入库",value:9}}),t._v(" "),a("el-option",{attrs:{label:"JIT退货入库",value:10}}),t._v(" "),a("el-option",{attrs:{label:"委外入库",value:11}})],1)],1),t._v(" "),a("div",{staticStyle:{margin:"30px 0px"}},[a("span")]),t._v(" "),a("div",{staticClass:"dialog-footer"},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.handleDownloadBatchOrder(e)}}},[t._v("下载")]),t._v(" "),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){t.batchOrderDialogVisible=!1}}},[t._v("关闭")])],1)]),t._v(" "),a("div",[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.isLoading,expression:"isLoading"}],attrs:{data:t.isdataList,"row-style":{height:"40px"}},on:{"row-click":t.handle}},[a("el-table-column",{attrs:{prop:"id",label:"序号",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"orderNo",label:"入库单号",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"warehouseName",label:"仓库名称",width:"130"}}),t._v(" "),a("el-table-column",{attrs:{prop:"warehouseNo",label:"仓库编号",width:"130"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",formatter:t.problemSourceFormat,label:"状态",width:"70"}}),t._v(" "),a("el-table-column",{attrs:{prop:"orderType",align:"center",label:"入库单类型",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[1==e.row.orderType?a("span",{staticStyle:{"margin-left":"10px"}},[t._v("采购入库")]):t._e(),t._v(" "),2==e.row.orderType?a("span",{staticStyle:{"margin-left":"10px"}},[t._v("调拨入库")]):t._e(),t._v(" "),3==e.row.orderType?a("span",{staticStyle:{"margin-left":"10px"}},[t._v("退货入库")]):t._e(),t._v(" "),4==e.row.orderType?a("span",{staticStyle:{"margin-left":"10px"}},[t._v("盘盈入库")]):t._e(),t._v(" "),5==e.row.orderType?a("span",{staticStyle:{"margin-left":"10px"}},[t._v("生产入库")]):t._e(),t._v(" "),6==e.row.orderType?a("span",{staticStyle:{"margin-left":"10px"}},[t._v("保修入库")]):t._e(),t._v(" "),7==e.row.orderType?a("span",{staticStyle:{"margin-left":"10px"}},[t._v("纠错入库")]):t._e(),t._v(" "),8==e.row.orderType?a("span",{staticStyle:{"margin-left":"10px"}},[t._v("初始化入库")]):t._e(),t._v(" "),9==e.row.orderType?a("span",{staticStyle:{"margin-left":"10px"}},[t._v("预入库")]):t._e(),t._v(" "),10==e.row.orderType?a("span",{staticStyle:{"margin-left":"10px"}},[t._v("JIT退货入库")]):t._e(),t._v(" "),11==e.row.orderType?a("span",{staticStyle:{"margin-left":"10px"}},[t._v("委外入库")]):t._e()]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"stockinTime",label:"入库时间",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"srcOrderNo",label:"源单号",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{prop:"goodsCount",label:"货品数量",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"同步时间",width:"165"}})],1)],1),t._v(" "),a("el-pagination",{staticStyle:{"margin-top":"20px",float:"right","margin-right":"100px"},attrs:{"page-sizes":[10,20,30,40],layout:"total, prev, pager, next","current-page":t.params.currentPage,"page-size":t.params.pageSize,total:t.params.total},on:{"current-change":t.currentChange,"size-change":t.handleSizeChange,"update:currentPage":function(e){return t.$set(t.params,"currentPage",e)},"update:current-page":function(e){return t.$set(t.params,"currentPage",e)}}}),t._v(" "),t.stockinId?a("div",[a("el-table",{attrs:{data:t.stockinIdList,"row-style":{height:"45px"}}},[a("el-table-column",{attrs:{align:"center",prop:"id",label:"ID",width:"50"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"specNo",label:"商家编码",width:"155"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"goodsCount",label:"货品数量",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"brandNo",label:"品牌编号",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"brandName",label:"品牌名称",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"goodsName",label:"货品名称",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"goodsNo",label:"货品编号",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"specName",label:"规格名称",width:"170"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"specCode",label:" 规格码",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"goodsUnit",label:" 单位",width:"150"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"positionNo",label:" 货位编号",width:"140"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"remark",label:"备注",width:"130"}})],1),t._v(" "),a("el-pagination",{staticClass:"fr",staticStyle:{"margin-top":"20px float:right","margin-right":"100px"},attrs:{"current-page":t.parameter.currentPage,"page-size":t.parameter.pageSize,layout:"total, prev, pager, next",total:t.parameter.total},on:{"current-change":t.handleCurrentChange,"size-change":t.handleSizeChanges,"update:currentPage":function(e){return t.$set(t.parameter,"currentPage",e)},"update:current-page":function(e){return t.$set(t.parameter,"currentPage",e)}}})],1):t._e()],1)},staticRenderFns:[]};var o=a("C7Lr")(s,i,!1,function(t){a("BR+i")},null,null);e.default=o.exports},ZqTn:function(t,e){}});